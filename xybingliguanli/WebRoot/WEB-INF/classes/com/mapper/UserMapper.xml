<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.UserMapper">
  <resultMap id="BaseResultMap" type="com.model.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="userId" jdbcType="INTEGER" property="userId" />
    <result column="userName" jdbcType="VARCHAR" property="userName" />
    <result column="userPassword" jdbcType="VARCHAR" property="userPassword" />
    <result column="userXingming" jdbcType="VARCHAR" property="userXingming" />
    <result column="userSex" jdbcType="INTEGER" property="userSex" />
    <result column="userAge" jdbcType="INTEGER" property="userAge" />
    <result column="userPhone" jdbcType="VARCHAR" property="userPhone" />
    <result column="userMark1" jdbcType="VARCHAR" property="userMark1" />
    <result column="userMark2" jdbcType="VARCHAR" property="userMark2" />
    <result column="userMark3" jdbcType="VARCHAR" property="userMark3" />
    <result column="userMark4" jdbcType="VARCHAR" property="userMark4" />
    <result column="userDate1" jdbcType="TIMESTAMP" property="userDate1" />
    <result column="userDate2" jdbcType="TIMESTAMP" property="userDate2" />
    <result column="userType1" jdbcType="INTEGER" property="userType1" />
    <result column="userType2" jdbcType="INTEGER" property="userType2" />
    <result column="userImg" jdbcType="VARCHAR" property="userImg" />
    <result column="userImgName" jdbcType="VARCHAR" property="userImgName" />
    <result column="roleId" jdbcType="INTEGER" property="roleId" />
    <result column="roleName" jdbcType="VARCHAR" property="roleName" />
    <result column="bumenId" jdbcType="INTEGER" property="bumenId" />
    <result column="bumenName" jdbcType="VARCHAR" property="bumenName" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_user
    where userId = #{userId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.model.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_user (userId, userName, userPassword, 
      userXingming, userSex, userAge, 
      userPhone, userMark1, userMark2, 
      userMark3, userMark4, userDate1, 
      userDate2, userType1, userType2, 
      userImg, userImgName, roleId, 
      roleName, bumenId, bumenName
      )
    values (#{userId,jdbcType=INTEGER}, #{userName,jdbcType=VARCHAR}, #{userPassword,jdbcType=VARCHAR}, 
      #{userXingming,jdbcType=VARCHAR}, #{userSex,jdbcType=INTEGER}, #{userAge,jdbcType=INTEGER}, 
      #{userPhone,jdbcType=VARCHAR}, #{userMark1,jdbcType=VARCHAR}, #{userMark2,jdbcType=VARCHAR}, 
      #{userMark3,jdbcType=VARCHAR}, #{userMark4,jdbcType=VARCHAR}, #{userDate1,jdbcType=TIMESTAMP}, 
      #{userDate2,jdbcType=TIMESTAMP}, #{userType1,jdbcType=INTEGER}, #{userType2,jdbcType=INTEGER}, 
      #{userImg,jdbcType=VARCHAR}, #{userImgName,jdbcType=VARCHAR}, #{roleId,jdbcType=INTEGER}, 
      #{roleName,jdbcType=VARCHAR}, #{bumenId,jdbcType=INTEGER}, #{bumenName,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.model.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_user
    set userName = #{userName,jdbcType=VARCHAR},
      userPassword = #{userPassword,jdbcType=VARCHAR},
      userXingming = #{userXingming,jdbcType=VARCHAR},
      userSex = #{userSex,jdbcType=INTEGER},
      userAge = #{userAge,jdbcType=INTEGER},
      userPhone = #{userPhone,jdbcType=VARCHAR},
      userMark1 = #{userMark1,jdbcType=VARCHAR},
      userMark2 = #{userMark2,jdbcType=VARCHAR},
      userMark3 = #{userMark3,jdbcType=VARCHAR},
      userMark4 = #{userMark4,jdbcType=VARCHAR},
      userDate1 = #{userDate1,jdbcType=TIMESTAMP},
      userDate2 = #{userDate2,jdbcType=TIMESTAMP},
      userType1 = #{userType1,jdbcType=INTEGER},
      userType2 = #{userType2,jdbcType=INTEGER},
      userImg = #{userImg,jdbcType=VARCHAR},
      userImgName = #{userImgName,jdbcType=VARCHAR},
      roleId = #{roleId,jdbcType=INTEGER},
      roleName = #{roleName,jdbcType=VARCHAR},
      bumenId = #{bumenId,jdbcType=INTEGER},
      bumenName = #{bumenName,jdbcType=VARCHAR}
    where userId = #{userId,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select userId, userName, userPassword, userXingming, userSex, userAge, userPhone, 
    userMark1, userMark2, userMark3, userMark4, userDate1, userDate2, userType1, userType2, 
    userImg, userImgName, roleId, roleName, bumenId, bumenName
    from t_user
    where userId = #{userId,jdbcType=INTEGER}
  </select>

	<select id="selectAll" resultMap="BaseResultMap">

		<!-- WARNING - @mbggenerated This element is automatically generated by 

			MyBatis Generator, do not modify. -->

		select * from t_user

		WHERE 1=1

		<if test="userName!=null and userName!=''">

			 AND userName = #{userName,jdbcType=VARCHAR} 

		</if>

		<if test="sdate!=null and sdate!=''">

			 AND userDate1 &gt;= #{sdate,jdbcType=TIMESTAMP} 

		</if>

		<if test="sdate!=null and sdate!=''">

			 AND userDate1 &lt;= #{edate,jdbcType=TIMESTAMP} 

		</if>

		<if test="user!=null">

			<if test="user.userName!=null and user.userName!=''">

				 AND userName LIKE  '%${user.userName}%' 

			</if>

			<if test="user.userPassword!=null and user.userPassword!=''">

				 AND userPassword = #{user.userPassword} 

			</if>

			<if test="user.userId!=null">

				 AND userId = #{user.userId} 

			</if>

			<if test="user.userType1!=null">

				 AND userType1 = #{user.userType1} 

			</if>

			<if test="user.userType2!=null">

				 AND userType2 = #{user.userType2} 

			</if>

			<if test="user.roleId!=null">

				 AND roleId = #{user.roleId} 

			</if>

			<if test="user.userSex!=null">

				 AND userSex = #{user.userSex} 

			</if>

			<if test="user.bumenId!=null">

				 AND bumenId = #{user.bumenId} 

			</if>
		</if>

		order by userId 

		<if test="rows!=0">

			limit #{page},#{rows}

		</if>

	</select>
</mapper>